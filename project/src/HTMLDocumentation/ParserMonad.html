<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ParserMonad</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">ParserMonad</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Parser">Parser</a> a = <a href="#v:Parser">Parser</a> (String -&gt; Maybe (a, String))</li><li class="src short"><a href="#v:parse">parse</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; String -&gt; Maybe (a, String)</li><li class="src short"><a href="#v:-43--43--43-">(+++)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> (a, b)</li><li class="src short"><a href="#v:mapParser">mapParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; (a -&gt; b) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</li><li class="src short"><a href="#v:item">item</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Char</li><li class="src short"><a href="#v:failParse">failParse</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</li><li class="src short"><a href="#v:sat">sat</a> :: (Char -&gt; Bool) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Char</li><li class="src short"><a href="#v:literal">literal</a> :: String -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> String</li><li class="src short"><a href="#v:-60--124--124--62-">(&lt;||&gt;)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> (Either a b)</li><li class="src short"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</li><li class="src short"><a href="#v:some">some</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> [a]</li><li class="src short"><a href="#v:rep">rep</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> [a]</li><li class="src short"><a href="#v:digit">digit</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Char</li><li class="src short"><a href="#v:natParser">natParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Integer</li><li class="src short"><a href="#v:intParser">intParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Integer</li><li class="src short"><a href="#v:floatParser">floatParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Float</li><li class="src short"><a href="#v:spaces">spaces</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> ()</li><li class="src short"><a href="#v:stringParser">stringParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> String</li><li class="src short"><a href="#v:notSymbol">notSymbol</a> :: Char -&gt; Bool</li><li class="src short"><a href="#v:token">token</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</li><li class="src short"><a href="#v:varParser">varParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> String</li><li class="src short"><a href="#v:oneOf">oneOf</a> :: [<a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a] -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</li><li class="src short"><a href="#v:withInfix">withInfix</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; [(String, a -&gt; a -&gt; a)] -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Parser" class="def">Parser</a> a <a href="#t:Parser" class="selflink">#</a></p><div class="doc"><p>the type of a parser</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Parser" class="def">Parser</a> (String -&gt; Maybe (a, String))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><details id="i:Parser" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:Monad:1"></span> Monad <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a></span> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="ParserMonad.html">ParserMonad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; (a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</p><p class="src"><a href="#v:fail">fail</a> :: String -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:Functor:2"></span> Functor <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a></span> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="ParserMonad.html">ParserMonad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Parser:Applicative:3"></span> Applicative <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a></span> <a href="#t:Parser" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Parser:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="ParserMonad.html">ParserMonad</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> (a -&gt; b) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> c</p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:parse" class="def">parse</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; String -&gt; Maybe (a, String) <a href="#v:parse" class="selflink">#</a></p><div class="doc"><p>invoke a parser</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parese (literal &quot;test&quot;) &quot;test1&quot;
</code></strong>Just (&quot;test&quot;, &quot;1&quot;)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parese (literal &quot;test&quot;) &quot;hello&quot;
</code></strong>Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:-43--43--43-" class="def">(+++)</a> <a href="#v:-43--43--43-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</td><td class="doc"><p>first parse with this parser</p></td></tr><tr><td class="src">-&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</td><td class="doc"><p>then parse with this parser</p></td></tr><tr><td class="src">-&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> (a, b)</td><td class="doc"><p>return the results of the two parsers in a pair</p></td></tr></table></div><div class="doc"><p>parse one thing, if that works then parse the other thing
 return both result in a pair
 if either of the parsers fail, the result fails</p></div></div><div class="top"><p class="src"><a id="v:mapParser" class="def">mapParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; (a -&gt; b) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b <a href="#v:mapParser" class="selflink">#</a></p><div class="doc"><p>map the function f to the result of the Parser</p></div></div><div class="top"><p class="src"><a id="v:item" class="def">item</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Char <a href="#v:item" class="selflink">#</a></p><div class="doc"><p>just read a char (from book)
 and return the char itself</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parse item &quot;any string&quot;
</code></strong>Just (&quot;a&quot;, &quot;ny string&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:failParse" class="def">failParse</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a <a href="#v:failParse" class="selflink">#</a></p><div class="doc"><p>a parser that always fails (empty in the book)</p></div></div><div class="top"><p class="src"><a id="v:sat" class="def">sat</a> :: (Char -&gt; Bool) -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Char <a href="#v:sat" class="selflink">#</a></p><div class="doc"><p>read in a char if it satisfy some property (from book)</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parse (sat isDigit) &quot;456&quot;
</code></strong>Just (&quot;4&quot;, &quot;56&quot;)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parse (sat isDigit) &quot;any string&quot;
</code></strong>Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:literal" class="def">literal</a> <a href="#v:literal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>the string to match</p></td></tr><tr><td class="src">-&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> String</td><td class="doc"><p>the parser that match exactly the input string</p></td></tr></table></div><div class="doc"><p>parse exactly a string, return that string (in book as the poorly named &quot;string&quot;)</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parese (literal &quot;test&quot;) &quot;test1&quot;
</code></strong>Just (&quot;test&quot;, &quot;1&quot;)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parese (literal &quot;test&quot;) &quot;hello&quot;
</code></strong>Nothing
</pre></div></div><div class="top"><p class="src"><a id="v:-60--124--124--62-" class="def">(&lt;||&gt;)</a> <a href="#v:-60--124--124--62-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a</td><td class="doc"><p>try this parser first</p></td></tr><tr><td class="src">-&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> b</td><td class="doc"><p>if the first parser fails, try this parser</p></td></tr><tr><td class="src">-&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> (Either a b)</td><td class="doc"><p>return either the first of the second</p></td></tr></table></div><div class="doc"><p>try to parse a, if that doesn't work try to parse b (slightly different from the book)
 then return either the first result (if the first parse is successful)
 or the second result (if the first parse is not successful and the second is successful)
 in a either type.</p><p>if both are not successful then fail.</p></div></div><div class="top"><p class="src"><a id="v:-60--124--62-" class="def">(&lt;|&gt;)</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a <a href="#v:-60--124--62-" class="selflink">#</a></p><div class="doc"><p>like <a href="||">||</a> but easier on the same type (from book)</p></div></div><div class="top"><p class="src"><a id="v:some" class="def">some</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> [a] <a href="#v:some" class="selflink">#</a></p><div class="doc"><p>take a parser and parse as much as possible into a list, always parse at least 1 thing, (from book)</p></div></div><div class="top"><p class="src"><a id="v:rep" class="def">rep</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> [a] <a href="#v:rep" class="selflink">#</a></p><div class="doc"><p>take a parser and parse as much as possible into a list, (in book as &quot;many&quot;)</p></div></div><div class="top"><p class="src"><a id="v:digit" class="def">digit</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Char <a href="#v:digit" class="selflink">#</a></p><div class="doc"><p>parse a digit (from book)</p></div></div><div class="top"><p class="src"><a id="v:natParser" class="def">natParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Integer <a href="#v:natParser" class="selflink">#</a></p><div class="doc"><p>parse natural numbers, like &quot;123&quot;, or &quot;000230000&quot;</p></div></div><div class="top"><p class="src"><a id="v:intParser" class="def">intParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Integer <a href="#v:intParser" class="selflink">#</a></p><div class="doc"><p>parse an integer</p></div></div><div class="top"><p class="src"><a id="v:floatParser" class="def">floatParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> Float <a href="#v:floatParser" class="selflink">#</a></p><div class="doc"><p>parse a floating-point number</p></div></div><div class="top"><p class="src"><a id="v:spaces" class="def">spaces</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> () <a href="#v:spaces" class="selflink">#</a></p><div class="doc"><p>parse spaces, throw them away</p></div></div><div class="top"><p class="src"><a id="v:stringParser" class="def">stringParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> String <a href="#v:stringParser" class="selflink">#</a></p><div class="doc"><p>Parses continuous strings</p></div></div><div class="top"><p class="src"><a id="v:notSymbol" class="def">notSymbol</a> :: Char -&gt; Bool <a href="#v:notSymbol" class="selflink">#</a></p><div class="doc"><p>Parses the not symbol</p></div></div><div class="top"><p class="src"><a id="v:token" class="def">token</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a <a href="#v:token" class="selflink">#</a></p><div class="doc"><p>a nicer version of eat spaces, eat the spaces before or after the parser (from book)</p></div></div><div class="top"><p class="src"><a id="v:varParser" class="def">varParser</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> String <a href="#v:varParser" class="selflink">#</a></p><div class="doc"><p>parse what we will consider a good variable name</p></div></div><div class="top"><p class="src"><a id="v:oneOf" class="def">oneOf</a> :: [<a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a] -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a <a href="#v:oneOf" class="selflink">#</a></p><div class="doc"><p>use the first working parser</p></div></div><div class="top"><p class="src"><a id="v:withInfix" class="def">withInfix</a> :: <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a -&gt; [(String, a -&gt; a -&gt; a)] -&gt; <a href="ParserMonad.html#t:Parser" title="ParserMonad">Parser</a> a <a href="#v:withInfix" class="selflink">#</a></p><div class="doc"><p>handle infix parsing with left associativity</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>